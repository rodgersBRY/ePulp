{"version":3,"file":"js/874.bc3de9cf.js","mappings":"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","sources":["webpack://admin/./src/views/farmer_details.vue","webpack://admin/src/views/farmer_details.vue","webpack://admin/./src/views/farmer_details.vue?aed4","webpack://admin/./src/views/farmer_details.vue?fc8f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"farmer-details\"}},[_c('main',{staticClass:\"farmer\"},[_c('section',{staticClass:\"main-section\"},[_c('v-card',{staticClass:\"py-4 px-8 mx-auto\",attrs:{\"width\":\"65%\",\"color\":\"grey lighten-4\",\"flat\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-icon',{attrs:{\"size\":\"190\"}},[_vm._v(\"mdi-badge-account\")]),_c('div',{staticClass:\"user-details\"},[_c('v-card-title',{staticClass:\"mb-3\"},[_c('span',[_vm._v(\"Name:\")]),_vm._v(\" \"+_vm._s(_vm.farmer.fullName))]),_c('v-card-text',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Telephone:\")]),_vm._v(\" \"+_vm._s(_vm.farmer.phoneNumber))]),_c('v-card-text',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"A/C No:\")]),_vm._v(\" \"+_vm._s(_vm.farmer.accountNo))]),_c('v-card-text',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Total weight:\")]),_vm._v(\" \"+_vm._s(_vm.farmer.totalWeight)+\" Kgs\")])],1)],1)],1),_c('v-row',{staticClass:\"my-10\",attrs:{\"no-gutters\":\"\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"green\",\"disabled\":_vm.newBatchDialog},on:{\"click\":function($event){_vm.newBatchDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" New Batch\")],1),_c('v-dialog',{attrs:{\"width\":\"400px\"},model:{value:(_vm.successDialog),callback:function ($$v) {_vm.successDialog=$$v},expression:\"successDialog\"}},[_c('v-card',{staticClass:\"text-center pa-4\"},[_c('v-icon',{attrs:{\"size\":\"100\",\"color\":\"green\"}},[_vm._v(\"mdi-check-circle-outline\")]),_c('v-card-text',{staticClass:\"mt-3\"},[_vm._v(\"Successfully added\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.successDialog = false}}},[_vm._v(\"close\")])],1)],1)],1),_c('error-dialog',{attrs:{\"display\":_vm.error,\"error-text\":_vm.error},on:{\"close-dialog\":_vm.resetError}})],1),_c('div',{staticClass:\"pa-5\"},[_c('form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newBatchDialog),expression:\"newBatchDialog\"}],on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewCoffeeDelivery.apply(null, arguments)}}},[_c('v-card-title',[_vm._v(\" Enter the coffee quantity \")]),_c('v-text-field',{attrs:{\"autofocus\":\"\",\"outlined\":\"\",\"label\":\"Weight\",\"color\":\"brown\"},model:{value:(_vm.weight),callback:function ($$v) {_vm.weight=$$v},expression:\"weight\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"depressed\":\"\",\"outlined\":\"\",\"text\":\"\",\"color\":\"red\"},on:{\"click\":function($event){_vm.newBatchDialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"depressed\":\"\",\"outlined\":\"\",\"text\":\"\",\"color\":\"green\",\"type\":\"submit\",\"loading\":_vm.isLoading}},[_vm._v(\"Add\")])],1)],1)]),_c('div',{staticClass:\"deliveries\"},[_c('v-card',{staticClass:\"py-4 px-2\"},[_c('h2',[_vm._v(\"Individual Deliveries\")]),_c('br'),(_vm.isLoading)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"brown darken-2\"}}):_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Weight\")]),_c('th',[_vm._v(\"Date of Delivery\")])])]),(_vm.paginatedData.length == 0)?_c('div',[_c('p',{staticClass:\"grey--text\"},[_vm._v(\"No data found\")])]):_c('tbody',_vm._l((_vm.paginatedData),function(item){return _c('tr',{key:item._id},[_c('td',[_vm._v(_vm._s(item.coffeeWeight)+\" Kgs\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateFilter\")(item.dateOfDelivery)))])])}),0)]),_c('div',{staticClass:\"pagination\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"outlined\":\"\",\"disabled\":_vm.currentPage === 1},on:{\"click\":_vm.previousPage}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1),_c('span',{staticClass:\"mx-4\"},[_vm._v(_vm._s(_vm.currentPage))]),_c('v-btn',{attrs:{\"icon\":\"\",\"outlined\":\"\",\"disabled\":_vm.currentPage === _vm.totalPages},on:{\"click\":_vm.nextPage}},[_c('v-icon',[_vm._v(\"mdi-arrow-right\")])],1)],1)],1)],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"farmer-details\">\r\n    <main class=\"farmer\">\r\n      <section class=\"main-section\">\r\n        <v-card width=\"65%\" class=\"py-4 px-8 mx-auto\" color=\"grey lighten-4\" flat>\r\n          <v-row justify=\"space-between\">\r\n            <v-icon size=\"190\">mdi-badge-account</v-icon>\r\n            <div class=\"user-details\">\r\n              <v-card-title class=\"mb-3\"><span>Name:</span> {{ farmer.fullName }}</v-card-title>\r\n              <v-card-text><span style=\"font-weight: bold\">Telephone:</span> {{ farmer.phoneNumber }}</v-card-text>\r\n              <v-card-text><span style=\"font-weight: bold\">A/C No:</span> {{ farmer.accountNo }}</v-card-text>\r\n              <v-card-text><span style=\"font-weight: bold\">Total weight:</span> {{ farmer.totalWeight }} Kgs</v-card-text>\r\n            </div>\r\n          </v-row>\r\n        </v-card>\r\n\r\n        <v-row class=\"my-10\" no-gutters>\r\n          <v-spacer />\r\n          <v-btn text color=\"green\" :disabled=\"newBatchDialog\" @click=\"newBatchDialog = true\"><v-icon>mdi-plus</v-icon> New Batch</v-btn>\r\n\r\n          <!-- success dialog -->\r\n          <v-dialog width=\"400px\" v-model=\"successDialog\">\r\n            <v-card class=\"text-center pa-4\">\r\n              <v-icon size=\"100\" color=\"green\">mdi-check-circle-outline</v-icon>\r\n              <v-card-text class=\"mt-3\">Successfully added</v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text block @click=\"successDialog = false\">close</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n\r\n          <error-dialog :display=\"error\" :error-text=\"error\" @close-dialog=\"resetError\"></error-dialog>\r\n        </v-row>\r\n\r\n        <!-- update new delivery form -->\r\n        <div class=\"pa-5\">\r\n          <form @submit.prevent=\"addNewCoffeeDelivery\" v-show=\"newBatchDialog\">\r\n              <v-card-title>\r\n                Enter the coffee quantity\r\n              </v-card-title> \r\n              <v-text-field autofocus outlined label=\"Weight\" color=\"brown\" v-model=\"weight\"></v-text-field>\r\n              <v-card-actions>\r\n                <v-spacer />\r\n                <v-btn depressed outlined text color=\"red\" @click=\"newBatchDialog = false\">Cancel</v-btn>\r\n                <v-btn depressed outlined text color=\"green\" type=\"submit\" :loading=\"isLoading\">Add</v-btn>\r\n              </v-card-actions>\r\n          </form>\r\n        </div>\r\n\r\n        <div class=\"deliveries\">\r\n          <v-card class=\"py-4 px-2\">\r\n            <h2>Individual Deliveries</h2>\r\n            <br />\r\n            <v-progress-linear\r\n            v-if=\"isLoading\"\r\n            indeterminate\r\n            color=\"brown darken-2\"\r\n            ></v-progress-linear>\r\n\r\n            <table v-else>\r\n              <thead>\r\n                <tr>\r\n                  <th>Weight</th>\r\n                  <th>Date of Delivery</th>\r\n                </tr>\r\n              </thead>\r\n              <div v-if=\"paginatedData.length == 0\">\r\n                <p class=\"grey--text\">No data found</p>\r\n              </div>\r\n              <tbody v-else>\r\n                <tr v-for=\"item in paginatedData\" :key=\"item._id\">\r\n                  <td>{{ item.coffeeWeight }} Kgs</td>\r\n                  <td>{{ item.dateOfDelivery | dateFilter }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n        \r\n            <div class=\"pagination\">\r\n              <v-btn icon outlined @click=\"previousPage\" :disabled=\"currentPage === 1\">\r\n                <v-icon>mdi-arrow-left</v-icon>\r\n              </v-btn>\r\n        \r\n              <span class='mx-4'>{{ currentPage }}</span>\r\n        \r\n              <v-btn icon outlined @click=\"nextPage\" :disabled=\"currentPage === totalPages\">\r\n                <v-icon>mdi-arrow-right</v-icon>\r\n              </v-btn>\r\n            </div>\r\n          </v-card>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default({\r\n  name: \"farmer-details\",\r\n\r\n  data() {\r\n    return {\r\n      farmerId:  this.$route.params.farmerId,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\titemsPerPage: 5,\r\n      \r\n      weight: '',\r\n      newBatchDialog: false,\r\n      successDialog: false,\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.$store.dispatch('fetchFarmer', this.farmerId)\r\n  },\r\n\r\n  filters: {\r\n    dateFilter(val) {\r\n      if (!val) return;\r\n\r\n      var date = new Date(val).toLocaleString(\"en-US\", {\r\n        day: \"2-digit\",\r\n        month: \"short\",\r\n        year: \"numeric\"\r\n      });\r\n      \r\n      return date;\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(['farmers', 'farmer', 'isLoading', 'error']),\r\n\r\n    farmerData() {\r\n      return this.farmer.coffeeBatches\r\n    },\r\n\r\n    totalPages() {\r\n\t\t\t\treturn Math.ceil(this.farmerData.length / this.itemsPerPage);\r\n\t\t},\r\n\t\t\r\n\t\tpaginatedData() {\r\n\t\t\t\tconst startIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n\t\t\t\tconst endIndex = startIndex + this.itemsPerPage;\r\n\t\t\t\treturn this.farmerData.slice(startIndex, endIndex);\r\n\t\t},\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(['updateFarmersQuantity', 'setError', 'clearError']),\r\n\r\n    async addNewCoffeeDelivery() {\r\n      if(this.weight != '') {\r\n        await this.updateFarmersQuantity({id: this.farmerId, weight: this.weight})\r\n        \r\n        this.weight = ''\r\n        this.newBatchDialog = false\r\n\r\n        this.successDialog = true\r\n        this.$store.dispatch('fetchFarmer', this.farmerId)\r\n      } else {\r\n        this.setError('Cannot submit an empty field')\r\n      }\r\n    },\r\n\r\n\t\tpreviousPage() {\r\n      if (this.currentPage > 1) this.currentPage--;\r\n      \r\n\t\t},\r\n\r\n\t\tnextPage() {\r\n\t\t\tif (this.currentPage < this.totalPages) this.currentPage++;\r\n\t\t},\r\n\r\n    resetError() {\r\n      this.clearError()\r\n    }\r\n\t},\r\n})\r\n</script>\r\n\r\n<style scoped>\r\nmain {\r\n  width: 60%;\r\n  margin: 3rem auto 2rem auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nthead {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\nth, td {\r\n  padding: 10px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n\r\ntr:hover {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.pagination button {\r\n  margin: 0 5px;\r\n  padding: 5px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 3px;\r\n  background-color: #fff;\r\n  cursor: pointer;\r\n}\r\n\r\n.pagination button:hover {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.pagination button:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n.pagination span {\r\n  margin: 0 5px;\r\n  font-weight: bold;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./farmer_details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./farmer_details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./farmer_details.vue?vue&type=template&id=083ec4d4&scoped=true&\"\nimport script from \"./farmer_details.vue?vue&type=script&lang=js&\"\nexport * from \"./farmer_details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./farmer_details.vue?vue&type=style&index=0&id=083ec4d4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"083ec4d4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["staticClass","attrs","_vm","_c","staticStyle","_v","_s","farmer","totalWeight","newBatchDialog","model","value","successDialog","expression","on","name","rawName","$event","addNewCoffeeDelivery","callback","_id","currentPage","previousPage","staticRenderFns","render","data","farmerId","$route","params","itemsPerPage","weight","created","$store","dispatch","filters","dateFilter","val","date","Date","toLocaleString","day","month","year","computed","mapGetters","farmerData","coffeeBatches","totalPages","Math","ceil","length","paginatedData","startIndex","endIndex","slice","methods","mapActions","updateFarmersQuantity","id","setError","nextPage","resetError","clearError","component"],"sourceRoot":""}